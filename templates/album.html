{% extends "base.html" %}

{% block title  %}
    {{ artist.name }} - {{ album.name }}
{% endblock %}

{% block content %}
<div id="album">
    <ul class="breadcrumb">
        <li>
            <a href="/library">Library</a>
            <span class="divider">/</span>
        </li>
        <li>
            <a href="/artist/{{ artist.slug }}">{{ artist.name }}</a>
            <span class="divider">/</span>
        </li>
        <li class="active">{{ album.name }}</li>
    </ul>

    <ul class="row-fluid">
        <li class="span6">
            {% include 'partials/artist-bio.html' %}
            {% if lastfm_album and lastfm_album.wiki %}
                <p>
                    {{ lastfm_album.wiki }}
                </p>
            {% endif %}
        </li>
        <li class="span6">
            {% include 'partials/artist-nav.html' %}
        </li>
    </ul>

    <hr>

    <ul class="tracks">
        {% for track in album.tracks %}
            <li class="track {{ "invalid" if not track.valid else "" }}
            {% if album.artists|length > 1 %}
                {{ "current_artist" if track.artist.id == artist.id else "other_artist" }}
            {% endif %}
                ">
                {% include 'partials/track.html' %}
                <a
                    class="queue add"
                    href="/queue/add/{{ track.slug|urlencode }}">
                    +
                </a>
            </li>
        {% endfor %}
    </ul>

    <div class="btn-group">
        <a
            class="queue add-album btn"
            href="/queue/add_album/{{ album.slug|urlencode }}">
            Add all to queue
        </a>
        <a class="btn" href="/tag/{% for track in album.tracks -%}
            {{ track.id }},
        {%- endfor %}">Edit tags and/or move files</a>
    </div>

</div>
{% endblock %}

