{% extends "body.html" %}

{% set subnav_file_path = "partials/torrents-nav.html" %}

{% block title  %}
    Torrents - Search
{% endblock %}

{% block content %}
<div id="torrents_search">
    <div class="row">
        <div class="col-xs-12">
            <input class="torrent-search-query form-control input-md"
                type="text" placeholder="Search" autocomplete="off" value="{{ query if query else '' }}" />
            <hr>
            {% if error %}
                <p class="alert alert-warning">
                    {{ error }}
                </p>
            {% endif %}
            {% if torrents %}
                <table class="table table-striped table-condensed">
                    <thead>
                        <tr>
                            <th>Cover</th>
                            <th>Name</th>
                            <th>Artists</th>
                            <th>Year</th>
                            <th>Size</th>
                            <th>Format</th>
                            <th>Media</th>
                            <th>Seeders</th>
                            <th>Leechers</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for torrent in torrents %}
                            <tr>
                                <td>
                                    <img width="70" height="70" src="{{ torrent.cover }}">
                                </td>
                                <td>{{ torrent.name }}</td>
                                <td>{{ torrent.artists|join(', ') }}</td>
                                <td>{{ torrent.year }}</td>
                                <td>{{ torrent.size|format_bytes }}</td>
                                <td>{{ torrent.format }} ({{ torrent.encoding }})</td>
                                <td>{{ torrent.media }}</td>
                                <td>{{ torrent.seeders }}</td>
                                <td>{{ torrent.leechers }}</td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
