{% extends "body.html" %}

{% block title  %}
    Home
{% endblock %}

{% block content %}
{% import "macros/artist-media.html" as artist_media %}
{% import "macros/album-media.html" as album_media %}
<div id="index">
    <ul class="row-fluid">
        <li class="span7">
            <h1><a href="/library/albums/new">Albums</a></h1>
            <ul class="row-fluid albums">
                <li class="span6">
                    {% for album in albums[0:8] %}
                        {{ album_media.album_media(album) }}
                    {% endfor %}
                </li>
                <li class="span6">
                    {% for album in albums[8:] %}
                        {{ album_media.album_media(album) }}
                    {% endfor %}
                </li>
            </ul>
        </li>
        <li class="span3">
            <h1><a href="/users/users">Users</a></h1>
            {% for user in users %}
                <div class="media">
                    <a href="/users/user/{{ user.login }}">
                        <img class="pull-left media-object img-rounded"
                            src="{{ user.gravatar }}" alt="{{ user.login }}'s Gravatar" />
                    </a>
                    <div class="media-body">
                        <h4 class="media-heading">{{ user.login }}</h4>
                        <p>{{ user.mail }}</p>
                    </div>
                </div>
            {% endfor %}
        </li>
        <li class="span2">
            <h1>Library</h1>
            <dl>
                <dt>Scanning:</dt>
                <dd> {{ 'Yes' if request.library.scanning else 'No' }}</dd>
                <dt>Tracks:</dt>
                <dd> {{ request.library_dao.get_track_count() }}</dd>
                <dt>Albums:</dt>
                <dd> {{ request.library_dao.get_album_count() }}</dd>
                <dt>Artists:</dt>
                <dd> {{ request.library_dao.get_artist_count() }}</dd>
                <dt>Invalid:</dt>
                <dd> {{ request.library_dao.get_invalid_track_count() }}</dd>
            </dl>
        </li>
    </ul>
</div>
{% endblock %}
