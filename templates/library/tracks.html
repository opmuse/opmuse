{% extends "body.html" %}
{% set subnav_file_path = "partials/library-nav.html" %}

{% block title  %}
    Library - Tracks
{% endblock %}

{% block navbar_sub %}
    {% include "partials/library-nav.html" %}
{% endblock %}

{% block content %}
<div id="library">
    {% import "macros/tracks.html" as tracks_macros %}
    {% import "macros/pagination.html" as pagination %}

    <dl class="filters">
        <dt>Filter</dt>
        <dd>
            <ul>
                <li>
                    <a class="btn btn-xs {{ "btn-primary" if filter == "none" else "btn-default" }}" href="/library/tracks?filter=none&sort={{ sort }}">
                        <i class="icon-circle-blank"></i>
                        None
                    </a>
                </li>
                <li>
                    <a class="btn btn-xs {{ "btn-primary" if filter == "woartist" else "btn-default" }}" href="/library/tracks?filter=woartist&sort={{ sort }}">
                        <i class="icon-music"></i>
                        w/o Artist
                    </a>
                </li>
                <li>
                    <a class="btn btn-xs {{ "btn-primary" if filter == "woalbum" else "btn-default" }}" href="/library/tracks?filter=woalbum&sort={{ sort }}">
                        <i class="icon-music"></i>
                        w/o Album
                    </a>
                </li>
                <li>
                    <a class="btn btn-xs {{ "btn-primary" if filter == "invalid" else "btn-default" }}" href="/library/tracks?filter=invalid&sort={{ sort }}">
                        <i class="icon-warning-sign"></i>
                        Invalid
                    </a>
                </li>
                <li>
                    <a class="btn btn-xs {{ "btn-primary" if filter == "duplicates" else "btn-default" }}" href="/library/tracks?filter=duplicates&sort={{ sort }}">
                        <i class="icon-code-fork"></i>
                        Duplicates
                    </a>
                </li>
            </ul>
        </dd>
    </dl>
    <dl class="sorts">
        <dt>Sort</dt>
        <dd>
            <ul>
                <li>
                    <a class="btn btn-xs {{ "btn-primary" if sort == "none" else "btn-default" }}" href="/library/tracks?filter={{ filter }}&sort=none">
                        <i class="icon-circle-blank"></i>
                        None
                    </a>
                </li>
                <li>
                    <a class="btn btn-xs {{ "btn-primary" if sort == "added" else "btn-default" }}" href="/library/tracks?filter={{ filter }}&sort=added">
                        <i class="icon-asterisk"></i>
                        Added
                    </a>
                </li>
                <li>
                    <a class="btn btn-xs {{ "btn-primary" if sort == "random" else "btn-default" }}" href="/library/tracks?filter={{ filter }}&sort=random">
                        <i class="icon-random"></i>
                        Random
                    </a>
                </li>
            </ul>
        </dd>
    </dl>

    <div class="tracks">
        {{ tracks_macros.table(tracks) }}
    </div>

    {% if page %}
        {% set url = "/library/tracks?sort=" + sort + "&filter=" + filter + "&page=" %}
        {{ pagination.pagination(url, page, pages) }}
    {% endif %}
</div>
{% endblock %}
