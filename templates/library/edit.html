{% extends "body.html" %}

{% block title  %}
    Edit
{% endblock %}

{% block navbar_sub %}
    {% include "partials/library-nav.html" %}
{% endblock %}

{% block content %}
<div id="edit">
    <form method="post" action="/library/edit/submit">
        <button class="btn btn-default" name="yes" type="submit" value="yes">Edit and move files.</button>
        <button class="btn btn-default" name="no" type="submit" value="no">Only edit.</button>

        <table class="table table-striped table-bordered">
            <tr>
                <th class="artist">
                    Artist
                    <a href="#" class="btn-xs btn btn-default lock artist">Lock</a>
                </th>
                <th class="album">
                    Album
                    <a href="#" class="btn-xs btn btn-default lock album">Lock</a>
                </th>
                <th class="track">
                    Name
                </th>
                <th class="date">
                    Date
                    <a href="#" class="btn-xs btn btn-default lock date">Lock</a>
                </th>
                <th class="number">
                    Number
                </th>
                <th class="disc">
                    Disc
                    <a href="#" class="btn-xs btn btn-default lock disc">Lock</a>
                </th>
            </tr>
            {% for track in tracks %}
                <tr class="track-info">
                    <td colspan="6">
                        <span class="title">Files:</span>
                        {% for path in track.paths %}
                        {{ path.pretty_path }}
                        {% endfor %}
                    </td>
                </tr>
                <tr>
                    <td>
                        <input type="hidden" name="ids" value="{{ track.id }}" />
                        <input tabindex="{{ loop.index }}" autocomplete="off"
                            type="text" class="artist form-control" name="artists" value="{{ track.artist.name|e }}" />
                    </td>
                    <td>
                        <input tabindex="{{ loop.index + tracks|length }}" autocomplete="off"
                            type="text" class="album form-control" name="albums" value="{{ track.album.name|e }}" />
                    </td>
                    <td>
                        <input tabindex="{{ loop.index + tracks|length * 2 }}" autocomplete="off"
                            type="text" class="track form-control" name="tracks" value="{{ track.name|e }}" />
                    </td>
                    <td>
                        <input tabindex="{{ loop.index + tracks|length * 3 }}" autocomplete="off"
                            type="text" class="date form-control" name="dates"
                            value="{{ track.album.date|e if track.album.date else '' }}" />
                    </td>
                    <td>
                        <input tabindex="{{ loop.index + tracks|length * 4 }}" autocomplete="off"
                            type="text" class="number form-control" name="numbers"
                            value="{{ track.number|e if track.number else '' }}" />
                    </td>
                    <td>
                        <input tabindex="{{ loop.index + tracks|length * 5 }}" autocomplete="off"
                            type="text" class="disc form-control" name="discs"
                            value="{{ track.disc|e if track.disc else '' }}" />
                    </td>
                </tr>
            {% endfor %}
        </table>

        <button class="btn btn-default" name="yes" type="submit" value="yes">Edit and move files.</button>
        <button class="btn btn-default" name="no" type="submit" value="no">Only edit.</button>
    </form>
</div>
{% endblock %}


