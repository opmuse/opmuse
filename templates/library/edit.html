{% extends "body.html" %}

{% block title  %}
    Edit
{% endblock %}

{% block content %}
<div id="edit">
    {% include "partials/library-nav.html" %}

    <form method="post" action="/library/edit/submit">
        <button class="btn" name="yes" type="submit" value="yes">Edit and move files.</button>
        <button class="btn" name="no" type="submit" value="no">Only edit.</button>

        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th class="artist">
                        Artist
                        <a href="#" class="btn-mini btn lock artist">Lock</a>
                    </th>
                    <th class="album">
                        Album
                        <a href="#" class="btn-mini btn lock album">Lock</a>
                    </th>
                    <th class="track">
                        Name
                    </th>
                    <th class="date">
                        Date
                        <a href="#" class="btn-mini btn lock date">Lock</a>
                    </th>
                    <th class="number">
                        Number
                    </th>
                    <th class="disc">
                        Disc
                        <a href="#" class="btn-mini btn lock disc">Lock</a>
                    </th>
                </tr>
            </thead>
            {% for track in tracks %}
                <tbody>
                    <tr class="track-info">
                        <td colspan="6">
                            <span class="title">Files:</span>
                            {% for path in track.paths %}
                            {{ path.pretty_path }}
                            {% endfor %}
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <input type="hidden" name="ids" value="{{ track.id }}" />
                            <input tabindex="{{ loop.index }}" autocomplete="off" type="text" class="artist"
                                name="artists" value="{{ track.artist.name|e }}" />
                        </td>
                        <td>
                            <input tabindex="{{ loop.index + tracks|length }}" autocomplete="off" type="text" class="album"
                                name="albums" value="{{ track.album.name|e }}" />
                        </td>
                        <td>
                            <input tabindex="{{ loop.index + tracks|length * 2 }}" autocomplete="off" type="text" class="track"
                                name="tracks" value="{{ track.name|e }}" />
                        </td>
                        <td>
                            <input tabindex="{{ loop.index + tracks|length * 3 }}" autocomplete="off" type="text" class="date"
                                name="dates" value="{{ track.album.date|e if track.album.date else '' }}" />
                        </td>
                        <td>
                            <input tabindex="{{ loop.index + tracks|length * 4 }}" autocomplete="off" type="text" class="number"
                                name="numbers" value="{{ track.number|e if track.number else '' }}" />
                        </td>
                        <td>
                            <input tabindex="{{ loop.index + tracks|length * 5 }}" autocomplete="off" type="text" class="disc"
                                name="discs" value="{{ track.disc|e if track.disc else '' }}" />
                        </td>
                    </tr>
                <tbody>
            {% endfor %}
        </table>

        <button class="btn" name="yes" type="submit" value="yes">Edit and move files.</button>
        <button class="btn" name="no" type="submit" value="no">Only edit.</button>
    </form>
</div>
{% endblock %}


