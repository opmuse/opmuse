{% extends "body_twocol.html" %}

{% block title  %}
    {{ track.artist.name|show_ws }} - {{ track.album.name|show_ws }} - {{ track.name|show_ws }}
{% endblock %}

{% block right %}
    {% include 'partials/artist-nav.html' %}
{% endblock %}

{% block content %}
<div id="library">

    {% include "partials/library-nav.html" %}

    {% set album = track.album %}
    {% include "partials/artist-head.html" %}

    <hr>

    <div class="btn-container">
        <div class="btn-group queue-btn">
            <a
                class="queue add btn btn-success"
                href="/queue/add/{{ track.id }}">
                Queue
            </a>
        </div>

        <div class="btn-group edit-btn">
            <a class="btn btn-danger" href="/library/edit/{{ track.id }}">Edit</a>
        </div>
    </div>

    <table class="table table-striped table-bordered">
        <tr>
            <th>Invalid</th>
            <td>{{ track.invalid }}</td>
        </tr>
        <tr>
            <th>Artist</th>
            <td>{{ track.artist.name|show_ws }}</td>
        </tr>
        <tr>
            <th>Album</th>
            <td>{{ track.album.name|show_ws }}</td>
        </tr>
        <tr>
            <th>Track</th>
            <td>{{ track.name|show_ws }}</td>
        </tr>
        <tr>
            <th>Number</th>
            <td>{{ track.number }}</td>
        </tr>
        <tr>
            <th>Disc</th>
            <td>{{ track.disc }}</td>
        </tr>
        <tr>
            <th>Duration</th>
            <td>{{ track.duration|format_seconds }}</td>
        </tr>
        <tr>
            <th>Format</th>
            <td>{{ track.format }}</td>
        </tr>
        <tr>
            <th>Bitrate</th>
            <td>
                {% if track.bitrate %}
                    {{ (track.bitrate / 1024) | format_number }} kbits/s
                {% else %}
                    Unknown
                {% endif %}
                {% if track.low_quality %}
                    <span class="badge badge-warning"
                        title="Track is of low quality, consider replacing it.">
                        <i class="icon-thumbs-down"></i>
                    </span>
                {% endif %}
            </td>
        </tr>
        <tr>
            <th>Size</th>
            <td>{{ track.size|format_bytes }}</td>
        </tr>
        <tr>
            <th>Files</th>
            <td>
                {% if track.has_dups %}
                    <span class="badge badge-warning"
                        title="Track has duplicates, you could remove all but one of them.">
                        <i class="icon-group"></i>
                    </span>
                {% endif %}
                <ul>
                    {% for path in track.paths %}
                    {# when displaying non-utf8 filenames the names will be incorrect,
                    don't think we can solve this, maybe aid the user in renaming the
                    files with our metadata... #}
                    <li>{{ path.path.decode('utf8', 'replace') }}</li>
                    {% endfor %}
                </ul>
            </td>
        </tr>
    </table>

</div>
{% endblock %}

