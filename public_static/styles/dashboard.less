.cover-container-size(@size) {
    .cover-container {
        width: @size;
        height: @size;

        img {
            width: @size;
            height: @size;
        }
    }
}

.show-users(@count) {
    .dashboard-box {
        .users {
            > .media {
                display: none;

                &:nth-child(-n+@{count}) {
                    display: block;
                }
            }
        }
    }
}

.show-new-albums(@count) {
    .dashboard-box {
        .new-albums {
            > li {
                display: none;

                &:nth-child(-n+@{count}) {
                    display: block;
                }
            }
        }
    }
}

.show-recently-listened(@count) {
    .dashboard-box {
        .recently-listened {
            > li {
                display: none;

                &:nth-child(-n+@{count}) {
                    display: block;
                }
            }
        }
    }
}

.show-top-artists(@count) {
    .dashboard-box {
        .top-artists {
            > a {
                display: none;

                &:nth-child(-n+@{count}) {
                    display: block;
                }
            }
        }
    }
}

@media (min-width: @screen-sm-min) and (max-width: @screen-sm-max) {
    .show-top-artists(10);
    .show-recently-listened(16);
    .show-new-albums(5);
    .show-users(4);
}

@media (max-width: @screen-xs-max) {
    .show-top-artists(6);
    .show-recently-listened(6);
    .show-new-albums(2);
}

.dashboard-box {
    &.panel .panel-heading {
        .icon {
            float: right;
        }
    }

    &.panel {
        margin-bottom: @grid-gutter-width;
    }

    .top-artists {
        > a {
            float: left;
            margin: 0 6px 6px 0;

            h4 {
                margin: 0 4px;
                width: 90px;
                overflow: hidden;
                text-overflow: ellipsis;
                white-space: nowrap;
                display: block;
                font-size: 1em;
            }

            .cover-container-size(90px);
        }
    }

    .top-artists,
    .recently-listened {
        &.fetching {
            padding: 10px;
        }
    }

    .listening-now,
    .recently-listened {
        .recently-listened-badge {
            position: absolute;
            top: 8px;
            right: 8px;

            &.badge {
                max-width: 80px;
                text-overflow: ellipsis;
                overflow: hidden;
            }
        }

        .footing {
            font-size: .9em;
        }

        .heading {
            font-weight: bold;
            color: @link-color;
        }

        .cover-container-size(50px);

        .full-album {
            .cover-container-size(70px);
        }
    }

    .new-albums {
        .cover-container-size(70px);
    }

    .listening-now,
    .new-albums,
    .recently-listened {
        .cover-container {
            float: left;
            margin-right: 8px;
        }

        p {
            margin: 0;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
    }
}

.dashboard-container {
    &#spacer {
        margin-top: 65px;
    }
}
